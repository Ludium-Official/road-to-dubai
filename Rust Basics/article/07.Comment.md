# Rust의 주석 (Comment)

## 학습 목표
- Rust의 다양한 주석 유형을 이해하고 적절히 사용할 수 있다.
- 코드 문서화를 위한 문서 주석의 작성법과 활용법을 숙지한다.
- 효과적인 주석 작성 방법과 주석 사용의 모범 사례를 익힌다.

## 주석의 종류와 사용법

Rust에서 주석은 코드에 설명을 추가하거나 임시로 코드를 비활성화할 때 사용한다. 주석은 컴파일러가 무시하기 때문에 프로그램 실행에는 영향을 주지 않는다. 하지만 코드를 이해하고 유지보수하는 데는 아주 중요한 역할을 한다. Rust는 세 가지 주요 유형의 주석을 제공한다.

주석을 잘 활용하면 코드를 더 이해하기 쉽고 유지보수하기 좋게 만들 수 있다. 하지만 가장 좋은 것은 주석 없이도 이해할 수 있는 깔끔한 코드를 작성하는 것이다.(함수명, 파라미터 명 등.. 이걸 표식이라고 하는데, 자세한 내용은 책 `프로그래머의 뇌`를 참고하자.)
주석은 그 다음 단계라고 생각하면 된다.

### 한 줄 주석

한 줄 주석은 두 개의 슬래시 `//`로 시작한다. 이 기호 뒤에 오는 모든 내용은 해당 줄의 끝까지 주석으로 처리된다.

```rust
fn main() {
    // 이것은 한 줄 주석이다
    let x = 5; // 변수 x에 5를 할당한다

    // 이 줄 전체가 주석 처리되어 코드로 인식되지 않는다
    // println!("이 줄은 실행되지 않는다");

    // 한 줄 주석을 사용한 코드 설명
    let y = 10; // y는 정수형 변수
    let z = x + y; // z는 x와 y의 합

    println!("x + y = {}", z); // 결과 출력
}
```

한 줄 주석은 간단한 설명이나 코드 라인 옆에 짧은 메모를 남길 때 유용하다.

### 여러 줄 주석

여러 줄에 걸친 긴 주석을 작성하고 싶을 때는 `/*`로 시작해서 `*/`로 끝낸다. 이 사이에 있는 모든 내용이 주석으로 처리된다.

```rust
fn main() {
    /* 이것은
       여러 줄에 걸친
       주석이다 */

    let complex_calculation = /* 이렇게 코드 중간에
                                 여러 줄 주석을
                                 넣을 수도 있다 */
        5 + 5 * 2 - 10;

    /*
     * 여러 줄 주석은 이렇게 각 줄 앞에
     * 별표를 붙여서 정렬할 수도 있다.
     * 이는 가독성을 높이는 데 도움이 된다.
     */

    println!("복잡한 계산 결과: {}", complex_calculation);
}
```

여러 줄 주석은 알고리즘 설명, 함수의 상세한 동작 원리, 또는 코드 블록 전체를 임시로 비활성화할 때 유용하다.

### 문서 주석

Rust에는 특별한 종류의 주석인 '문서 주석'이 있다. 이 주석은 코드에 대한 문서를 생성하는 데 사용된다. `///`로 시작하는 한 줄 문서 주석과 `/**`로 시작해서 `*/`로 끝나는 여러 줄 문서 주석이 있다.

```rust
/// 이 함수는 두 숫자를 더한다
///
/// # 인자
///
/// * `a` - 첫 번째 정수
/// * `b` - 두 번째 정수
///
/// # 반환값
///
/// 두 정수의 합을 반환한다
///
/// # 예제
///
/// ```
/// let result = add(2, 3);
/// assert_eq!(result, 5);
/// ```
fn add(a: i32, b: i32) -> i32 {
    a + b
}

/** 이것은 여러 줄 문서 주석이다
 * 구조체나 열거형 등에 대한
 * 자세한 설명을 쓸 때 사용한다
 *
 * # 필드
 *
 * * `x` - x 좌표
 * * `y` - y 좌표
 */
struct Point {
    x: f64,
    y: f64,
}

fn main() {
    let p = Point { x: 3.0, y: 4.0 };
    println!("점의 좌표: ({}, {})", p.x, p.y);

    let sum = add(5, 7);
    println!("5 + 7 = {}", sum);
}
```

문서 주석은 `cargo doc` 명령어로 HTML 문서를 생성할 때 사용된다. 이렇게 만든 문서는 다른 개발자들이 코드를 이해하는 데 큰 도움이 된다.

## 주석 사용 팁

1. 주석은 코드가 '무엇'을 하는지보다 '왜' 그렇게 하는지를 설명하는 데 집중한다.
2. 코드가 복잡하거나 명확하지 않을 때 주석을 사용한다.
3. 주석을 최신 상태로 유지한다. 코드가 변경되면 관련 주석도 업데이트해야 한다.
4. 너무 많은 주석은 오히려 코드를 읽기 어렵게 만들 수 있다. 균형을 잘 맞추는 게 중요하다.
5. 문서 주석을 활용하여 API 문서를 자동으로 생성한다. 이는 라이브러리 개발 시 특히 유용하다.
6. 주석에 예제 코드를 포함시키면 사용자가 코드의 사용법을 쉽게 이해할 수 있다.

## VSCode에서 실습

1. VSCode를 열고 새 Rust 프로젝트를 생성한다: `cargo new rust_comments`
2. `src/main.rs` 파일에 다음 코드를 작성한다:

```rust
/// 두 정수를 더하는 함수
///
/// # 인자
///
/// * `a` - 첫 번째 정수
/// * `b` - 두 번째 정수
///
/// # 반환값
///
/// 두 정수의 합을 반환한다
fn add(a: i32, b: i32) -> i32 {
    // 단순히 두 수를 더해 반환한다
    a + b
}

fn main() {
    // 변수 선언 및 초기화
    let x = 5;
    let y = 7;

    /* 여러 줄 주석 예시
       add 함수를 호출하여 결과를 계산한다 */
    let result = add(x, y);

    // 결과 출력
    println!("{} + {} = {}", x, y, result);
}
```

3. 터미널에서 `cargo run` 명령어를 실행하여 코드를 컴파일하고 실행한다.
4. `cargo doc --open` 명령어를 실행하여 생성된 문서를 확인한다.

## 테스트 코드

주석의 예제 코드가 실제로 작동하는지 확인하기 위한 테스트 코드는 다음과 같다:

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_add() {
        assert_eq!(add(2, 3), 5);
        assert_eq!(add(-1, 1), 0);
        assert_eq!(add(0, 0), 0);
    }
}
```

이 테스트 코드를 `src/main.rs` 파일의 끝에 추가하고, `cargo test` 명령어를 실행하여 테스트를 수행할 수 있다.

## Reference

1. Rust 공식 문서 - Comments: https://doc.rust-lang.org/book/ch03-04-comments.html
2. Rust by Example - Comments: https://doc.rust-lang.org/rust-by-example/hello/comment.html
3. The Rust Programming Language (Book) by Steve Klabnik and Carol Nichols
4. Rust in Action by Tim McNamara, Manning Publications
5. Programming Rust by Jim Blandy and Jason Orendorff, O'Reilly Media

